<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Data Preparation and Engineering | Krishna Neupane, PhD </title> <meta name="author" content="Krishna P. Neupane"> <meta name="description" content="A simple page to describe my works. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://krishpn.github.io/projects/20260205/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Krishna Neupane, PhD </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/"> </a> </li> <li class="nav-item active"> <a class="nav-link" href="/"> <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">resume </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">research and analysis <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Data Preparation and Engineering</h1> <p class="post-description"></p> </header> <article> <p><strong>Architecture of the SEC Data Pipeline: From Unstructured Filings to Longitudinal Insight</strong></p> <p>In order to assess the compliance rate over the years, a specialized pipeline was developed to convert unstructured SEC EDGAR filings into a clean, longitudinal dataset. This process involved several critical steps to ensure data integrity over the 22-year study period.</p> <p><strong>Local Inventory and Regulated Acquisition</strong>: The researcher engineered the pipeline to follow a “Mirror Rule,” ensuring the retrieval process remained organized and compliant with SEC infrastructure requirements. The “Mirror Rule” ensures the pipeline remains highly efficient while maintaining full compliance with the SEC’s technical infrastructure:</p> <ul> <li> <p><strong>Local Inventory:</strong> Due to the strict rate limits of the SEC, the pipeline performs a rapid scan of local storage and bypasses the download if a file with that unique standardized name already exists on the disk. Prior to initiating any external network request, the pipeline performs a recursive scan of its local storage environment. If a file associated with a unique Accession Number is already present, the system bypasses the download phase. This eliminates redundant data transfer, preserving both local bandwidth and federal server resources.</p> </li> <li> <p><strong>Temporal Symmetry (Rate Throttling):</strong> The SEC infrastructure mandates a maximum request frequency to prevent server congestion. The Mirror Rule implements a strict latency between requests to synchronize with the SEC’s operational tempo. This symmetry ensures a stable connection and prevents the abrupt disconnects that can compromise large-batch processing</p> </li> <li> <p><strong>Identity Headers:</strong> To maintain transparent communication, the pipeline includes a mandatory User-Agent string in every request header. Every request includes a “User-Agent” string that identifies the research entity to the SEC servers. Example: SEC_HEADERS = {‘User-Agent’: ‘University Research Project/AI Compliance Study’}. This explicitly identifies the research project and provides contact information to the regulator, establishing a “mirror” of accountability and trust between the researcher and the SEC.</p> </li> <li> <p><strong>Targeted URL Construction:</strong> The system merges a base SEC URL with specific paths found in the master metadata to point directly to the raw filings. Example: It combines the SEC archive link with a path like edgar/data/12345/00011-22-33.txt to locate a specific disclosure.</p> </li> </ul> <p><strong>Two-Stage Narrative Extraction</strong>: The researcher utilizes a dual-layered cleaning process to transform raw filings into structured data. The system first isolates the core document by identifying markers like <text> tags. It then strips away internal formatting markers and excessive whitespace, leaving behind only the human-readable narrative. Example: The system extracts a complex, tag-heavy SGML block and refines it into a clean statement of transaction.</text></p> <p><strong>Standardized Archival and Indexing</strong>: To ensure the dataset is optimized for downstream tasks, the system renames and categorizes every report using a strict naming convention. Every file is indexed by its CIK (Central Index Key), allowing the researcher to pause and resume the process without data loss. Example: A report for a Board Director is archived as f4_20260208_1234567_ID, allowing for immediate retrieval within the “Form 4” subdirectory.</p> <p><strong>Verifying the Truth: Accession Numbers and Identity</strong></p> <p>A primary challenge in processing historical filings is “field displacement,” where names and identifiers are often misaligned in the original text.</p> <p>Accession Number Anchor: The system utilizes the Accession Number as a “truth anchor”. Since the first ten digits are automatically assigned to the filer, the pipeline can verify the identity of the Reporting Owner regardless of internal document disorganization.</p> <p>Master Verification: Every extracted CIK is cross-checked against the SEC Master Directory. Any identifier that does not match an official entity is excluded to maintain the highest level of precision.</p> <p><strong>Sorting Giants from Leaders</strong></p> <p>The pipeline distinguishes between different market participants by identifying corporate markers such as “LLC” or “Corp” within the entity names. This allows the researcher to compare the reporting behaviors of 52,743 Unique Owners against 86,668 Unique Institutions. To ensure computational efficiency, the final data is stored in Parquet format, reducing storage requirements by 70%.</p> <p><strong>The Conclusion: The Compliance Ceiling</strong></p> <p>The data pipeline reveals a persistent “Compliance Ceiling” that has remained stagnant for 22 years. This evidence suggests that humans alone cannot overcome the structural frictions of the regulatory environment.</p> <h3 id="related-explorations">Related Explorations</h3> <p><a href="/projects/20260206/">Detailed Data Description</a></p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2026 Krishna P. Neupane. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/assets/js/search/ninja-keys.min.js?601a2d3465e2a52bec38b600518d5f70"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-",title:"",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-",title:"",description:"",section:"Navigation",handler:()=>{window.location.href="/"}},{id:"nav-resume",title:"resume",description:"",section:"Navigation",handler:()=>{window.location.href="/cv/"}},{id:"nav-research-and-analysis",title:"research and analysis",description:"",section:"Navigation",handler:()=>{window.location.href="/projects/"}},{id:"nav-publications",title:"publications",description:"selected publications",section:"Navigation",handler:()=>{window.location.href="/publications/"}},{id:"projects-data-preparation-and-engineering",title:"Data Preparation and Engineering",description:"",section:"Projects",handler:()=>{window.location.href="/projects/20260205/"}},{id:"projects-detailed-data-description",title:"Detailed Data Description",description:"",section:"Projects",handler:()=>{window.location.href="/projects/20260206/"}},{id:"projects-why-two-decades-of-practice-haven-t-fixed-financial-reporting",title:"Why Two Decades of Practice Haven\u2019t Fixed Financial Reporting",description:"",section:"Projects",handler:()=>{window.location.href="/projects/20260207/"}},{id:"projects-does-experience-help-exploring-the-link-between-tenure-and-accuracy",title:"Does Experience Help? Exploring the Link Between Tenure and Accuracy",description:"",section:"Projects",handler:()=>{window.location.href="/projects/20260208/"}},{id:"projects-the-mirror-in-the-market-a-tale-of-two-triangles",title:"The Mirror in the Market: A Tale of Two Triangles",description:"",section:"Projects",handler:()=>{window.location.href="/projects/20260209/"}},{id:"socials-email",title:"Send email",section:"Socials",handler:()=>{window.open("mailto:%6E%65%75%70%61%6E%65.%6B%72%69%73%68.%70@%67%6D%61%69%6C.%63%6F%6D","_blank")}},{id:"socials-google-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=Dx-ILfUAAAAJ","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>